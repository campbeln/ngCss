<html ng-app="myAngularApp">
    <head>
        <title>ngCss :: Angular Binding in CSS (Don't Call It A CSS Preprocessor)</title>
        
        <style type="text/css" id="ngCss" ng-css>
            /*ng-css({ script: 'isolated', scope: '#page', live: true })*/      /* <-- Must be the first non-whitespace string in the STYLE tag! */
            /*<script>
                var neek = true;

                //#
                $scope.oFonts = {
                    Arial: 'arial',
                    Helvetica: 'Helvetica',
                    ComicSans: 'Comic Sans',
                    nonHeader: '"adelle", Georgia, "Times New Roman", Times, serif'
                };
                $scope.oColors = {
                    red: '#832200',
                    gray: '#EEEEEE',

                    lightGreen: '#87CF41',
                    lightBlue: '#5488A9',
                    lightOrange: '#FF9A77',
                    darkGreen: '#3A7600',

                    orange: '#D64C1E',
                    green: '#6CC01B',
                    blue: '#1A5D89'
                };
                $scope.oColorSets = {
                    blue: {
                        backgroundColor: $scope.oColors.blue,
                        color: "white",
                        a: $scope.oColors.green
                    },
                    green: {
                        backgroundColor: $scope.oColors.green,
                        color: "white",
                        a: $scope.oColors.red
                    },
                    orange: {
                        backgroundColor: $scope.oColors.orange,
                        color: "black",
                        a: $scope.oColors.gray
                    }
                };

                //#
                $scope.oCSS = {
                    mainColor: $scope.oColors.orange,
                    color: 'black',
                    fontFamily: $scope.oFonts.nonHeader,
                    fonts: {
                        pretty: $scope.oFonts.Helvetica,
                        ugly: $scope.oFonts.ComicSans
                    },
                    splash: {
                        h1_marginTop: "0.9%",
                        h1_span_marginTop: "-1.7em"
                    },
                    about: {
                        color: "black",
                        a: $scope.oColors.blue
                    },
                    highlight: $scope.oColors.lightGreen,
                    overview: $scope.oColorSets.blue,
                    gettingStarted: $scope.oColorSets.orange,
                    gotchas: $scope.oColorSets.green
                };
            </script>*/

            /* Fonts */
             @font-face {
                 font-family: 'Comic Sans';
                 src: url('./css/fonts/Comic Sans MS Regular.eot');
                 src: local('☺'), url('./css/fonts/Comic Sans MS Regular.woff') format('woff'), url('./css/fonts/Comic Sans MS Regular.ttf') format('truetype'), url('./css/fonts/Comic Sans MS Regular.svg') format('svg');
                 font-weight: normal;
                 font-style: normal;
             }
            @font-face {
                font-family: 'Helvetica';
                src: url('./css/fonts/Helvetica.eot');
                src: local('☺'), url('./css/fonts/Helvetica.woff') format('woff'), url('./css/fonts/Helvetica.ttf') format('truetype'), url('./css/fonts/Helvetica.svg') format('svg');
                font-weight: normal;
                font-style: normal;
            }
            
            /* Micro Clearfix (http://nicolasgallagher.com/micro-clearfix-hack/)
             * content: The space content is one way to avoid an Opera bug when the contenteditable attribute is included anywhere else in the document. Otherwise it causes space to appear at the top and bottom of elements that are clearfixed.
             * display: The use of `table` rather than `block` is only necessary if using `:before` to contain the top-margins of child elements.
             * *zoom:   For IE 6/7 only, include this rule to trigger hasLayout and contain floats.
             * clear:   The clearfix ;)
             */
            .cf:before,
            .cf:after {
                content: " ";
                display: table;
            }
            .cf:after {
                clear: both;
            }
            .cf {
                *zoom: 1;
            }

            /* Site CSS */
            HTML, BODY, FORM {
                font-family: /*{{oCSS.fontFamily}}*/;
                color: /*{{oCSS.color}}*/;
                padding: 0;
                margin: 0;
            }
            
            /*  */
            H1 {
                font-family: /*{{oCSS.fonts.pretty}}*/;
                font-size: 500%;
                margin: 1% 0 0 0;
                text-align: center;
            }
            H2 {
                font-family: /*{{oCSS.fonts.pretty}}*/;
                font-size: 350%;
                margin: 1% 0 2% 0;
            }
            H3 {
                font-family: /*{{oCSS.fonts.pretty}}*/;
                font-size: 200%;
                margin: 2% 0 2% 0;
            }
            H4 {
                font-family: /*{{oCSS.fonts.pretty}}*/;
                font-size: 150%;
                margin: 2% 0 2% 0;
            }

            A {
                color: maroon;
                text-decoration: none;
            }
            A:hover {
                border-bottom: 1px solid /*{{oColors.red}}*/;
            }

            SPAN.ugly {
                font-family: /*{{oCSS.fonts.ugly}}*/;
                color: /*{{oColorSets.green}}*/;
            }
            SPAN.pretty {
                font-family: /*{{oCSS.fonts.pretty}}*/;
                color: /*{{oColorSets.pink}}*/;
            }
            
            UL#demo {
                list-style: none;
                margin-top: -2em;
            }
            UL#demo LI {
                height: 3em;
                width: 3em;
                margin: 5px;
                list-style: none;
                display: inline-block;
                border: 4px solid white;
                cursor: pointer;
            }
            UL#demo LI.active {
                border-color: black;
            }

            #nsr {
                height: 500px;
                background-color: /*{{oCSS.mainColor}}*/;
                margin-top: 1em;
            }

            .strike {
                text-decoration: line-through;
            }
            .ngcss {
            }
            .cjsss {
                text-decoration: line-through;
            }

            .donate,
            .download {
                top: 2%;
                right: 2%;
                font-size: 150%;
                background: none repeat scroll 0 0 /*{{oCSS.mainColor}}*/;
                border-radius: 30px;
                color: #ffffff;
                padding: 1% 2%;
                text-decoration: none;
                position: absolute;
                border: 0;
            }
            .donate {
                top: inherit;
                background-color: /*{{oColors.red}}*/;
                cursor: pointer;
                margin-top: -1.5%;
            }


            PRE {
                display: inline;
                padding: 1px;
            }
            PRE.i {
                font-style: oblique;
                text-decoration: underline;
                text-decoration-style: wavy;
                -moz-text-decoration-style: wavy;
                text-decoration-color: /*{{oCSS.highlight}}*/;
                -moz-text-decoration-color: /*{{oCSS.highlight}}*/;
            }
            PRE.i:before {
                content: "[";
            }
            PRE.i:after {
                content: "]";
            }
            PRE > STRONG {
                background-color: /*{{oCSS.highlight}}*/;
            }

            .splash {
                padding: 0 0 2% 0;
                text-align: center;
            }
            .splash H1 {
                margin-top: /*{{oCSS.splash.h1_marginTop}}*/;
            }
            .splash H1 > SPAN {
                font-family: /*{{oCSS.fonts.ugly}}*/;
                font-size: 80%;
                display: inline-block;
                margin: /*{{oCSS.splash.h1_span_marginTop}}*/ -0.08em 0 -0.17em;
                -webkit-transform: rotate(-15deg);
                -o-transform: rotate(-15deg);
                transform: rotate(-15deg);
            }
            .splash H1 > SPAN > SPAN {
                font-size: 50%;
                color: /*{{oCSS.mainColor}}*/;
            }
            .splash .tagline {
                font-size: 150%;
                margin: -0.4em 0 0 0;
                text-align: center;
            }

            .overview,
            .options,
            .examples,
            .gettingstarted,
            .gotchas,
            .snake,
            .about {
                width: 80%;
                padding: 3% 10% 3% 10%;
                clear: both;
                line-height: 120%;
            }

            .about {
                background-color: /*{{oCSS.mainColor}}*/;
                color: /*{{oCSS.about.color}}*/;
            }
            .about > P:first-of-type {
                margin-top: 0;
            }
            .about A {
                color: /*{{oCSS.about.a}}*/;
            }
            .about A:hover {
                border-bottom: 1px solid /*{{oCSS.about.a}}*/;
            }


            .gettingstarted {
                background-color: /*{{oCSS.gettingStarted.backgroundColor}}*/;
                color: /*{{oCSS.gettingStarted.color}}*/;
            }
            .gettingstarted BLOCKQUOTE {
                color: black;
            }
            .gettingstarted A {
                color: /*{{oCSS.gettingStarted.a}}*/;
            }
            .gettingstarted A:hover {
                border-bottom: 1px solid /*{{oCSS.gettingStarted.a}}*/;
            }

            .gotchas {
                background-color: /*{{oCSS.gotchas.backgroundColor}}*/;
                color: /*{{oCSS.gotchas.color}}*/;
            }
            .gotchas A {
                color: /*{{oCSS.gotchas.a}}*/;
            }
            .gotchas A:hover {
                border-bottom: 1px solid /*{{oCSS.gotchas.a}}*/;
            }

            .overview {
                background-color: /*{{oCSS.overview.backgroundColor}}*/;
                color: /*{{oCSS.overview.color}}*/;
            }
            .overview UL LI {
                width: 48%;
            }
            .overview UL LI:nth-of-type(odd) {
                float: left;
                clear: left;
            }
            .overview UL LI:nth-of-type(even) {
                float: right;
                clear: right;
            }
            .overview UL LI STRONG {
                text-transform: uppercase;
            }
            .overview A {
                color: /*{{oCSS.overview.a}}*/;
            }
            .overview A:hover {
                border-bottom: 1px solid /*{{oCSS.overview.a}}*/;
            }

            .options .column {
                width: 48%;
            }
            .options > DIV.c1of2 {
                float: left;
            }
            .options > DIV.c2of2 {
                float: right;
            }
            .options .column > H3 {
                margin: 4% 0 1.5% 0;
            }
            .options .column EM {
                display: block;
                margin: 0 0 0 3%;
            }
            .options .column EM:last-of-type:before {
                content: "Default Value: ";
            }
            .options .column EM:last-of-type {
                margin-bottom: 2%;
            }
            .options .note {
                font-style: italic;
                font-size: 90%;
                margin-top: 2%;
            }
            .options .note:before {
                content: "NOTE: ";
            }

            BLOCKQUOTE {
                background: none repeat scroll 0 0 /*{{oColors.gray}}*/;
                color: black !important;
                border-radius: 10px;
                padding: 1% 2%;
                max-width: 750px;
            }

            em.comment {
                color: /*{{oColors.darkGreen}}*/;
            }
            em.script {
                color: /*{{oColors.red}}*/;
            }

            /**/
            .var:after {
                content: "\7D\7D";
            }
            .var:before {
                content: "\7B\7B";
            }
        </style>
        
        <script type="text/javascript" src="js/angular.js"></script>
        <script type="text/javascript" src="js/angular.ngcss.js"></script>
        <script type="text/javascript">
            //# Setup the required globals
            var myAngularApp = angular.module("myAngularApp", ['ngCss']);

            //# Define Angular page .controller
            myAngularApp.controller('PageController', ["$scope", "$timeout", "$interpolate", function ($scope, $timeout, $interpolate) {
                var $iFrame = angular.element(document.getElementById("exampleFrame")),
                    $codeTemplate = document.getElementById("simpleExample.html"),
                    $code = document.getElementById("exampleCode")
                ;
                
                //# Safely converts "rgb(x,x,x)" into "#xxxxxx"
                function rgb2hex(rgb) {
                    function hex(x) {
                        return ("0" + parseInt(x).toString(16)).slice(-2);
                    }

                    if (/^#[0-9A-F]{6}$/i.test(rgb)) return rgb;

                    rgb = rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
                    return (rgb ? "#" + (hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3])).toUpperCase() : "");
                }
                

                //# Updates the page's CSS to the user-selected profile
                $scope.updateCSS = function ($event) {
                    var i,
                        $li = $event.target,
                        $ul = document.getElementById("demo").children
                    ;

                    //# Traverse the $ul, removing the .active class as we go
                    for (i = 0; i < $ul.length; i++) {
                        $ul[i].className = "";
                    }

                    //# Set the passed $li to .active then collect the .mainColor from the $li's .backgroundColor (converting from "rgb(x,x,x)" to "#xxxxxx" as we go)
                    $li.className = "active";
                    $scope.oCSS.mainColor = rgb2hex($li.style.backgroundColor);

                    //# Reset the user-updatable fields from the Complex Example
                    $scope.oCSS.fontFamily = $scope.oFonts.nonHeader;
                    $scope.oCSS.color = 'black';
                    $scope.oColorSets.green.backgroundColor = $scope.oColors.green;

                    //# Determine the user-selected profile and process accordingly
                    switch ($scope.oCSS.mainColor) {
                        case $scope.oColors.blue: {
                            $scope.oCSS.highlight = $scope.oColors.lightGreen;

                            $scope.oCSS.fonts.pretty = $scope.oFonts.Arial;
                            $scope.oCSS.fonts.ugly = $scope.oFonts.ComicSans;
                            $scope.oCSS.about.color = "white";
                            $scope.oCSS.about.a = $scope.oColors.green;
                            $scope.oCSS.splash.h1_span_marginTop = "-1.7em";
                            $scope.oCSS.splash.h1_marginTop = "1%";
                            $scope.oCSS.overview = $scope.oColorSets.orange;
                            $scope.oCSS.gettingStarted = $scope.oColorSets.blue;
                            $scope.oCSS.gotchas = $scope.oColorSets.green;
                            break;
                        }
                        case $scope.oColors.orange: {
                            $scope.oCSS.highlight = $scope.oColors.lightGreen;

                            $scope.oCSS.fonts.pretty = $scope.oFonts.Helvetica;
                            $scope.oCSS.fonts.ugly = $scope.oFonts.ComicSans;
                            $scope.oCSS.about.color = "black";
                            $scope.oCSS.about.a = $scope.oColors.red;
                            $scope.oCSS.splash.h1_span_marginTop = "-1.7em";
                            $scope.oCSS.splash.h1_marginTop = "0.9%";
                            $scope.oCSS.overview = $scope.oColorSets.blue;
                            $scope.oCSS.gettingStarted = $scope.oColorSets.orange;
                            $scope.oCSS.gotchas = $scope.oColorSets.green;
                            break;
                        }
                        case $scope.oColors.green: {
                            $scope.oCSS.highlight = $scope.oColors.lightOrange;

                            $scope.oCSS.fonts.pretty = $scope.oFonts.ComicSans;
                            $scope.oCSS.fonts.ugly = $scope.oFonts.Helvetica;
                            $scope.oCSS.about.color = "black";
                            $scope.oCSS.about.a = $scope.oColors.red;
                            $scope.oCSS.splash.h1_span_marginTop = "-1.5em";
                            $scope.oCSS.splash.h1_marginTop = "0";
                            $scope.oCSS.overview = $scope.oColorSets.green;
                            $scope.oCSS.gettingStarted = $scope.oColorSets.blue;
                            $scope.oCSS.gotchas = $scope.oColorSets.orange;
                            break;
                        }
                    }
                };

                //#
                $scope.ex = {
                    tag: "style",
                    live: false,
                    async: true,
                    scope: "''",
                    scopeFn: 'ngScopeFn',
                    scopeProp: 'ngScope',
                    script: false,
                    scriptFn: 'jsScopeFn',
                    scriptProp: 'jsScope',
                    callback: 'cssUpdated'
                }; //# $scope.ex


                //#
                $scope.buildExample = function () {
                    var $win, a_sCodeMatch,
                        sCode = $codeTemplate.innerHTML,
                        $newiFrame = document.createElement("iframe"),
                        sTagRegEx = ($scope.ex.tag !== "style" ?
                            '<style id="myAngularCss"[^]*?<\/style>' :
                            '<link id="myAngularCss".*?\/>'
                        )
                    ;

                    //#
                    $newiFrame.id = "exampleFrame";
                    $iFrame.replaceWith($newiFrame);
                    $iFrame = angular.element($newiFrame);
                    $win = $newiFrame.contentWindow;

                    //# Pull the sCode and preprocess it
                    a_sCodeMatch = sCode.match(/\n(\s*?)<!--/);
                    sCode = sCode
                        .replace(new RegExp("\n" + a_sCodeMatch[1], "g"), "\n") //# Remove the leading whitespace from each line
                        .replace(/<!--\n/g, "").replace(/-->\n/g, "")           //# Remove the HTML comments
                        .replace(/{{/g, "[[").replace(/}}/g, "]]")              //# Replace the post-Angular {{vars}} with [[vars]]
                        .replace(/{_{/g, "{{").replace(/}_}/g, "}}")            //# Replace the pre-Angular {_{vars}_} with {{vars}}
                    ;

                    //# $interpolate the preprocessed sCode then finalise the processing
                    sCode = $scope.$eval($interpolate(sCode));
                    sCode = sCode
                        .replace(/\/\*\[\[/g, "{{").replace(/\]\]\*\//g, "}}")  //# Replace the post-Angular /*[[vars]]*/ with {{vars}}
                        .replace(/\[\[/g, "{{").replace(/\]\]/g, "}}")          //# Replace the post-Angular [[vars]] with {{vars}}
                        .replace(/<\/ script>/gi, "</" + "script>")             //# Replace the </ script> tags
                        .replace(new RegExp(sTagRegEx, 'gi'), "")               //# Remove the unrequested HTML tag from the sCode
                    ;

                    //# Update the $code TEXTAREA and $win IFRAME with the above processed sCode, then .close the $win so the throbber stops
                    $code.value = sCode;
                    $win.document.write(sCode);
                    $win.document.close();

                    //#
                    $scope.showTab({ target: document.getElementById("tabs").children[0].children[0] });
                }; //# $scope.buildExample


                //#
                $scope.showTab = function ($event) {
                    var i,
                        $li = $event.target,
                        $ul = document.getElementById("tabs"),
                        $content = document.getElementById($li.htmlFor)
                    ;

                    //#
                    for (i = 0; i < $ul.children.length; i++) {
                        $ul.children[i].children[0].className = "";
                    }
                    for (i = 0; i < $ul.parentNode.children.length; i++) {
                        if ($ul.parentNode.children[i].tagName.toLowerCase() !== "ul") {
                            $ul.parentNode.children[i].className = "";
                        }
                    }

                    $li.className = "active";
                    $content.className = "show";
                }; //# $scope.showTab
            }]); //# myAngularApp.controller('PageController'...
        </script>
    </head>    
    <body id="page" ng-controller="PageController">
        <div class="splash">
            <a class="download" href="https://github.com/campbeln/ngcss">Download From GitHub</a>

            <div style="position: absolute; left: 50%; top: -1.5%; width: 9%; z-index: -1;">
                <div style="position: relative; left: -50%;">
                    <img src="img/shield.png" style="width: 100%;" />
                </div>
            </div>
            
            <h1>
                ngCss
            </h1>
            <span class="tagline">Angular Binding in CSS</span>

            <br/><img src="img/notsirrobin.png" id="nsr" />

            <a name="profiles"></a>
            <ul id="demo">
                <li ng-css-style="background-color: /*{{oColors.blue}}*/;" ng-css="#ngCss" ng-click="updateCSS($event)"></li>
                <li ng-css-style="background-color: /*{{oColors.orange}}*/;" ng-css="{ script: '#ngCss', scope: '#ngCss', live: true }" class="active" ng-click="updateCSS($event)"></li>
                <li ng-css-style="background-color: /*{{oColors.green}}*/;" ng-css="#ngCss" ng-click="updateCSS($event)"></li>
            </ul>
            <!--<style type="text/css" id="ngCss2" ng-css="{ script: 'isolated', scope: '#page', live: true }"></style>-->

            <!-- span class="tagline">CSS + JavaScript + Angular = Angular-powered CSS</span -->
        </div>

        
        <div class="overview">
            <h2>Overview</h2>
            ngCss gives you the ability to embed <pre>&lt;script&gt;</pre> tags within CSS - adding variables, functions and logic to the power of CSS.
            <ul class="cf">
                <li><a href="#browsersupport"><strong>Browser Support:</strong></a> <a href="https://docs.angularjs.org/guide/ie">Same as Angular 1.2</a>; IE8+</li>
                    <li><strong>Licensing Fees:</strong> $0, nada, nutin' (licensed under the <a href="http://opensource.org/licenses/MIT">MIT License</a>) but <a href="#about">Nick does accept tips</a></li>
                <li><a href="#gettingstarted"><strong>Installation:</strong></a> n/a, just include <pre>angular.ngcss.min.js</pre></li>
                    <li><strong>Small!</strong> Only ~5,500 bytes compressed</li>

                <li>Near-zero learning curve; it's just Javascript &amp; Angular embedded within CSS!</li>
                    <li><pre>$scope</pre> and <a href="#options"><pre>options</pre></a> can be initilized within the CSS itself, allowing for complete isolation of CSS-related code</li>

                <li>Create complex mixins with nested Javascript/JSON <pre>object</pre>s via the <em>css</em> Filter</li>
                    <li>Your CSS stays CSS; no language features to learn or mentally decode</li>
                <li>Ability to use <pre class="var">Variable</pre>s within <pre>style</pre> attributes</li>
                    <li>No need for developer debugging tools, just view source or inspect element</li>
                <li><pre>$scope</pre> can be isolated or imported from any Angular <pre>$element</pre></li>
                    <li>Source code is fully commented and accessible to the brave and not-so-brave alike</li>
                <li><pre>camelCase</pre> to <pre>dash-case</pre> of Javascript <pre>object</pre> keys converted auto-magicially</li>
                    <li><pre>eval</pre>uated Javascript fully isolated by default</li>
                <li>Angular+Vanilla Javascript toolkit with no external dependencies</li>
                    <li>CSS can be live-bound or updated via the custom <pre>$broadcast</pre> event <em>updateCss</em></li>
                <li>Use any Javascript library within your CSS, not just language supported functions</li>
                    <li>Supports external <pre>SCRIPT</pre> references within the CSS (e.g. <pre>&lt;script src='<a href="https://github.com/gka/chroma.js">https://github.com/gka/chroma.js</a>'&gt;&lt;/script&gt;</pre>).</li>
                <li>Client-side CSS preprocessor and reprocessor capabilities with no plugins required (ngCss is <a href="http://www.lesscss.org/">LESS</a> <a href="http://www.sass-lang.com/">SASS</a>y and more <a href="http://learnboost.github.io/stylus/">Stylus</a>h than the competition ;)</li>
            </ul>
            <!-- http://www.styleweekly.com/richmond/the-hr-department/Content?oid=1721447 -->
            <img src="img/twistedsister.png" style="position: absolute; width: 7%; left: 1%; margin-top: -0.7%;" alt="Our (twisted) sister project: CjsSS.js" />
            Check out the Vanilla Javascript (twisted) sister project <a href="http://opensourcetaekwondo.com/cjsss/">CjsSS.js</a> for Javascript binding in CSS sans Angular.
        </div>


        <a name="options"></a>
        <div class="options cf">
            <h2>Options</h2>
            <div class="cf">
                Option values can be passed into ngCss in a number of locations:
                <ol>
                    <li>
                        <pre>&lt;div style="color: <span class='var'>color</span>;" <strong>ng-css="{ scope: '#myCss', live: true }"</strong>&gt;...&lt;/div&gt;</pre>
                        <br/>overrides:
                    </li>
                    <li>
                        <pre>&lt;style type="text/css" id="myCss" <strong>ng-css="{ live: false }"</strong> /&gt;...&lt;/style&gt;</pre>
                        <br/>or
                        <br/><pre>&lt;link rel="stylesheet" type="text/css" id="myCss" href="css/site.css" <strong>ng-css="{ live: false }"</strong> /&gt;</pre>
                        <br/>overrides:
                    </li>
                    <li>
                        When placed on the first line within the CSS, <pre><strong>/*ngcss({ live: true })*/</strong></pre>
                        <br/>overrides:
                    </li>
                    <li>
                        The default values described below (<a href="#override">which can be programmatically overridden</a>).
                    </li>
                </ol>
                In the example above, <pre>options.live</pre> will be set to <pre>true</pre> within the context of the <pre>DIV</pre> as the <pre>DIV</pre> tag's option values override the <pre>STYLE</pre> / <pre>LINK</pre> tags' option values.
                <pre>options.live</pre> will be set to <pre>false</pre> within the context of the <pre>STYLE</pre> / <pre>LINK</pre> tags' which overrides the CSS's inline option values.
                <pre>options.live</pre> was set to <pre>true</pre> within the CSS's inline option values which would have overriden the default value (<pre>false</pre>), but it never takes effect due to the <pre>STYLE</pre> / <pre>LINK</pre> tags' option values.
            
                <div class="note">
                    The use of the CSS's inline option values (#3) allows you to fully configure all aspects of ngCss within the CSS itself.
                </div>
            </div>

            <div class="column c1of2">
                <h3>script</h3>
                <div>
                    <em>VARIANT (see valid values below)</em>
                    <em>"isolated"</em>
                    The <a href="http://toddmotto.com/everything-you-wanted-to-know-about-javascript-scope/">Javascript scope</a> that the CSS embedded <pre>SCRIPT</pre> tags will be <pre>eval</pre>uated within:
                    <ul>
                        <li>
                            <pre>false</pre> -
                            CSS embedded <pre>SCRIPT</pre> tags are not evaluated.
                        </li>
                        <li>
                            <pre>"isolated"</pre> -
                            a new <a href='http://www.html5rocks.com/en/tutorials/security/sandboxed-iframes/'>isolated <pre>IFRAME</pre> Javascript scope</a>.
                        </li>
                        <li class="strike">
                            <pre>"sandbox"</pre> -
                            a new <a href='http://www.html5rocks.com/en/tutorials/security/sandboxed-iframes/#privilege-separation'><pre>sandbox</pre>ed <pre>IFRAME</pre> Javascript scope</a>. <a href="#*">&dagger;</a>
                        </li>
                        <li>
                            <pre>"global"</pre> -
                            the <a href='http://toddmotto.com/everything-you-wanted-to-know-about-javascript-scope/'>global Javascript scope</a>.
                        </li>
                        <li>
                            <pre>"local"</pre> -
                            a new <a href='http://toddmotto.com/everything-you-wanted-to-know-about-javascript-scope/'>local (closure) Javascript scope</a>.
                        </li>
                        <li>
                            <pre>"useStrict"</pre> -
                            a new <a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode#Simplifying_variable_uses'>"use strict" local (closure) Javascript scope</a>.
                        </li>
                        <li class="strike">
                            <pre>"json"</pre> -
                            as <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON">JSON-style object definitions</a> (both keys and values are "double quoted"); no Javascript scope applies.
                        </li>
                        <li>
                            <pre>"#ID"</pre> -
                            the <a href='http://toddmotto.com/everything-you-wanted-to-know-about-javascript-scope/'>Javascript scope</a> in effect for the referenced <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/id">HTML Element.id</a> <!--(e.g. <pre>document.querySelector('#ID');</pre>)--> will be used. <a href="#**">&Dagger;</a>
                        </li>
                        <li>
                            <pre class="i">object</pre> -
                            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Javascript Objects</a> can be provided in a number of flavors:
                            <ul>
                                <li>
                                    <a href="https://docs.angularjs.org/api/ng/function/angular.element">angular.element</a>, <a href="http://api.jquery.com/jQuery/">jQuery</a> or <a href="https://developer.mozilla.org/en-US/docs/Web/API/element">DOM element</a> - 
                                    the <a href='http://toddmotto.com/everything-you-wanted-to-know-about-javascript-scope/'>Javascript scope</a> in effect for the referenced <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element">HTML Element</a> will be used. <a href="#**">&Dagger;</a>
                                </li>
                                <li>
                                    <pre>{ script: <pre class="i">variant</pre>, context: <pre class="i">object</pre> }</pre> -
                                    <pre>script</pre><a href="#***">*</a> resolves to either <pre>"local"</pre> or <pre>"useStrict"</pre> and <pre>context</pre> is provided as <a href="http://toddmotto.com/everything-you-wanted-to-know-about-javascript-scope/"><pre>this</pre></a> within the evaluated Javascript.
                                </li>
                                <li>
                                    otherwise -
                                    <pre class="i">object</pre> is provided as <a href="http://toddmotto.com/everything-you-wanted-to-know-about-javascript-scope/"><pre>this</pre></a> within a new <a href='http://toddmotto.com/everything-you-wanted-to-know-about-javascript-scope/'><pre>"local"</pre> (closure) Javascript scope</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <pre class="i">function</pre> -
                            a <a href="#****">function**</a> that returns a <pre>variant</pre> representing any of the listed values.
                        </li>
                        <!--<li>
                                <pre class="i">function</pre> -
                                a <a href="#****">function**</a> present in the <a href='http://toddmotto.com/everything-you-wanted-to-know-about-javascript-scope/'>global Javascript scope</a> (e.g. <pre>window.myFunction</pre>) that returns a <pre>variant</pre> representing any of the listed values.
                        </li>-->
                    </ul>
                </div>


                <h3>callback</h3>
                <div>
                    <em>FUNCTION</em>
                    <em>undefined</em>
                    Defines the <a href="#****">function**</a> that will be called each time the CSS is updated.
                    You can disable the callback by returning <pre>false</pre> from the function.
                </div>
            </div>
            
            <div class="column c2of2">
                <h3>scope</h3>
                <div>
                    <em>VARIANT (see valid values below)</em>
                    <em>"" (e.g. a <pre class="i">null-string</pre>)</em>
                    The <a href="https://docs.angularjs.org/guide/scope">Angular <pre>$scope</pre></a> that will be used by the directive:
                    <ul>
                        <li>
                            <pre>"parent"</pre> -
                            the directive will operate in the <a href="https://docs.angularjs.org/guide/directive">context of the original Angular scope</a>.
                            <!--the <a href="https://docs.angularjs.org/guide/scope"><pre>$scope</pre></a> in effect for the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element.id">HTML Element.id</a> referred to in the defined parent Javascript scope (as<pre>script</pre>) will be imported.-->
                        </li>
                        <li>
                            <pre>"#ID"</pre> -
                            the <a href="https://docs.angularjs.org/guide/scope"><pre>$scope</pre></a> in effect for the referenced <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element.id">HTML Element.id</a> will be imported.
                        </li>
                        <li>
                            <pre class="i">function</pre> -
                            a <a href="#****">function**</a> that returns a <pre>string</pre> representing one of the listed values.
                        </li>
                        <li>
                            <i>otherwise</i> -
                            the directive will operate with its own <a href="https://docs.angularjs.org/guide/directive#isolating-the-scope-of-a-directive">isolate <pre>$scope</pre></a>.
                        </li>
                    </ul>
                </div>


                <h3>live</h3>
                <div>
                    <em>BOOLEAN</em>
                    <em>false</em>
                    Specifies if changes made within the <pre>$scope</pre> are to be automatically reflected within the CSS.
                    When set to <pre>false</pre>, the custom <pre>$broadcast</pre> event <i>updateCss</i> is configured (e.g. <pre>$rootScope.$broadcast('updateCss');</pre>) and can be triggered via the factory's <pre>ngCss.updateCss()</pre> or via <pre>$rootScope.$broadcast('updateCss');</pre>.
                </div>


                <h3>async</h3>
                <div>
                    <em>BOOLEAN</em>
                    <em>true</em>
                    Specifies if <pre>LINK</pre> tags are to be processed asynchronously.
                    If ordering matters in the execution of the embedded <pre>SCRIPT</pre>s, then this should be set to <pre>false</pre>.
                </div>
            </div>

            <div style="clear: both; padding-top: 1%;">
                <a name="*"></a>
                &dagger; - There is no reason to use <pre>sandbox</pre> over <pre>isolated</pre> if your CSS embedded <pre>SCRIPT</pre> tags are from a trusted source, especially considering the limitations of <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage">postMessage</a>.

                <br /><a name="**"></a>
                &Dagger; - Allows for the sharing of functionality and variables across invocations.

                <br /><a name="***"></a>
                * - <pre><pre class="i">object</pre>.script</pre> must create a new Javascript scope; it cannot link to an existing scope.

                <br /><a name="****"></a>
                ** - <pre class="i">function</pre>s are passed 2 arguments:
                <ol>
                    <li>
                        <pre>domElement</pre> -
                        the directive's <a href="https://developer.mozilla.org/en-US/docs/Web/API/element">DOM element</a>.
                    </li>
                    <li>
                        <pre>metadata</pre> -
                        an object representing the internal metadata pertaining to the element.
                    </li>
                </ol>

                <div class="note">
                    Each <pre>ng-css</pre> attributed <pre>LINK</pre> tag is replaced with a <pre>STYLE</pre> tag with only the <pre>ng-css</pre> attribute copied across.
                    If you require additional attributes or processing to apply to these created <pre>STYLE</pre> tags, you can make any necessary modifications to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/element">DOM element</a> within a <pre class="i">function</pre>.
                </div>

                <div class="note">
                    Options settings can reference properties in the <a href="https://docs.angularjs.org/guide/directive">context of the original Angular scope</a>, but <strong>not</strong> within the Angular scope created/imported via <pre>options.scope</pre>.
                </div>
            </div>


            <h3><pre>style</pre> Attributes</h3>
            <pre class="var">Variable</pre>s can be used within any tag's <pre>style</pre> attribute (but <pre>SCRIPT</pre> tags are not permitted).
            When applying ngCss to a <pre>style</pre> attribute, you have two options when setting the value of <pre>ng-css</pre>'s in-line options:
            <ul>
                <li>
                    <pre><pre>&lt;div <strong>ng-css-</strong>style="color: <span class='var'>color</span>;" style="font-style: italic;" <strong>ng-css="#myCss"</strong>&gt;...&lt;/div&gt;</pre></pre>
                    <br/>This will import the <a href="https://docs.angularjs.org/guide/scope">Angular <pre>$scope</pre></a> and option values from the referenced <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/id">HTML Element</a> with the ID <i>myCss</i> (e.g. "<i>#myCss</i>" overrides <pre>options.scope</pre>).
                    This element <i>should</i> be a <pre>ng-css</pre> attributed <pre>LINK</pre> or <pre>STYLE</pre> tag, but any Angular element's <pre>$scope</pre> can be imported.
                </li>
                <li>
                    <pre><pre>&lt;div <strong>ng-css-</strong>style="color: <span class='var'>color</span>;" style="font-style: italic;" <strong>ng-css="{ scope: '#myCss', live: true }"</strong>&gt;...&lt;/div&gt;</pre></pre>
                    <br/>This will also import the <a href="https://docs.angularjs.org/guide/scope">Angular <pre>$scope</pre></a>/option values from ID <i>myCss</i> while overriding the value of <pre>options.live</pre> to <pre>true</pre>.
                    This is useful when you want to use a <pre class="var">Variable</pre> within your <pre>style</pre> attribute but do not require it to be live-bound like its source (as used in 2 of the 3 <a href="#profiles">color profile selection boxes</a> above to demonstrate the concept).
                </li>
            </ul>
            Only the <pre>style</pre> attribute is effected by ngCss in this context using a non-isolate <pre>$scope</pre> (even when the referenced element is!).
            This is accomplished by a bit of pre- and post-<pre>$compile</pre> slight-of-hand between the directive's <pre>template</pre> and <pre>link</pre> functions and custom linking code via a <pre>$watch</pre> (<pre>live: true</pre>) or <pre>$on</pre> (<pre>live: false</pre>).
            <div class="note">
                Due to <a href="http://stackoverflow.com/questions/23610625/angular-expression-inside-style-attribute-dont-work-in-ie">IE's behavior</a> of <a href="http://stackoverflow.com/questions/15676445/invalid-css-property-gets-removed-in-inline-style">removing invalid CSS settings </a> from <pre>STYLE</pre> attributes at parse (which in turn, removes them from the DOM) it is necessary to specify ngCss styles in a <pre>ng-css-style</pre> (or HTML5-compliant <pre>data-ng-css-style</pre>) attribute.
                The <pre>ng-css-style</pre> (or HTML5-compliant <pre>data-ng-css-style</pre>) attribute is concatnated with the additionally-defined <pre>STYLE</pre> attribute if it is present.
            </div>


            <a name="override"></a>
            <h3>How To Override The Default Option Values</h3>
            If you wish to override any of the default option values you can call <pre>ngCss.defaults</pre>, passing in the new default option values like so:
            <blockquote>
                <pre>
                var myAngularApp = angular.module("myAngularApp", ["ngCss"]);
                
                myAngularApp.controller("ExampleController", ["$scope", "ngCss", function ($scope, ngCss) {
                    <strong>ngCss.defaults({ script: 'global' });</strong>
                }]);
                </pre>
            </blockquote>
            In the example above, we reset the default value for <pre>options.script</pre> within ngCss to <pre>global</pre>.
        </div>

        
        <a name="gettingstarted"></a>
        <div class="gettingstarted">
            <h2>Getting Started</h2>

            Assuming the default option values are in effect <a href="#options">as described above</a>:
            <ol>
                <li>
                    <a href="https://github.com/campbeln/ngcss">Download ngCss From GitHub</a>
                </li>
                <li>
                    Include the ngCss <pre>SCRIPT</pre> tag in the <pre>HEAD</pre> of your HTML document <strong>below</strong> your Angular <pre>SCRIPT</pre> tag:
                    <blockquote>
                        <pre>
                        &lt;script type="text/javascript" src="<strong>angular.min.js</strong>"&gt;&lt;/script&gt;
                        &lt;script type="text/javascript" src="<strong>angular.ngcss.min.js</strong>"&gt;&lt;/script&gt;
                        </pre>
                    </blockquote>
                </li>
                <li>
                    Include the attribute <pre>ng-app="myAngularApp"</pre> in your HTML element (e.g. <pre>&lt;html ng-app="myAngularApp"&gt;</pre>) and setup <pre>myAngularApp</pre> to include the ngCss factory like so:
                    <blockquote>
                        <pre>
                        &lt;script&gt;
                            var myAngularApp = angular.module("myAngularApp", [<strong>"ngCss"</strong>]);
                        &lt;/script&gt;
                        </pre>
                    </blockquote>
                </li>
                <li>
                    Add the <pre>ng-css</pre> attribute to the LINK and/or STYLE elements we want to process:
                    <blockquote>
                        <pre>
                        &lt;style id="myCss" type="text/css" <strong>ng-css</strong>&gt;...&lt;/style&gt;
                        
                        &lt;link id="myExCss" rel="stylesheet" type="text/css" href="css/site.css" <strong>ng-css</strong>/&gt;
                        </pre>
                    </blockquote>
                </li>
                <li>
                    Define the <a href="#options"><pre>options</pre></a> used by ngCss (if any):
                    <blockquote>
                        <pre>
                        &lt;style id="myCss" type="text/css" <strong>ng-css="{ script: 'local', live: true }</strong>"&gt;...&lt;/style&gt;
                        
                        &lt;link id="myExCss" rel="stylesheet" type="text/css" href="css/site.css"
                            <strong>ng-css="{ script: 'local', live: true }</strong>"
                        /&gt;
                        </pre>
                    </blockquote>
                </li>
                <li>
                    Edit the CSS within the LINK and/or STYLE elements to use ngCss like this:
                    <blockquote>
                        <pre>
                        <em class="comment">/*
                        <em class="script">&lt;script&gt;
                            $scope.color = 'blue';
                        &lt;/script&gt;</em>
                        */</em>
                        DIV {
                            color: <em class="comment">/*<em class="script var">color</em>*/</em>;
                        }
                        </pre>
                    </blockquote>
                </li>
                <li>
                    (Optional) Consume ngCss (or any other <pre>$scope</pre>'s) <pre class="var">Variable</pre>s within any element's <pre>style</pre> attribute like this:
                    <blockquote>
                        <pre>
                        &lt;span style="color: <strong><em class="var">color</em></strong>;" <strong>ng-css="#myCss"</strong>&gt;...&lt;/span&gt;
                    
                        &lt;a href="http://opensourcetaekwondo.com/ngcss" style="color: <strong><em class="var">color</em></strong>;"
                            <strong>ng-css="{ scope: '#myExCss', live: false }"</strong>
                        &gt;...&lt;/span&gt;
                        </pre>
                    </blockquote>
                    Technically, you can import any Angular element's <pre>$scope</pre> into the <pre>style</pre> attribute, but the intention is for you to reference <pre>ng-css</pre> attributed <pre>LINK</pre> or <pre>STYLE</pre> elements.
                </li>
            </ol>
            NOTE: You are also permitted to use the attribute name <pre>data-ng-css</pre> in place of <pre>ng-css</pre> if you want to be <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#data-*">HTML5 compliant</a>.
        </div>


        <div class="examples">
            <!--<style id="iNoSuck" ng-css="{ script: 'global', live: true }">
                /*<script>
                    console.log("neek!!");
                </script>*/
            </style>-->
            <!--<style id="iSuck" ng-css="{ script: 'isolated', live: true }"></style>-->
            <!-- { script: '#ngCss', scope: '#ngCss', live: true } -->
            <style ng-css="{ script: 'global', live: true }">
                /*<script>
                    //console.log(neek);
                </script>*/

                TABLE {
                    margin: 1% 0 0 0;
                    width: 100%;
                }
                TABLE.liveExample {
                    height: 300px;
                }
                TABLE TH,
                TABLE TD {
                    white-space: nowrap;
                    width: 1%;
                    text-align: center;
                    padding: 0 5px 0 5px;
                }
                TABLE TH {
                    text-align: left;
                }
                TABLE TD.expand {
                    white-space: normal;
                    width: 99%;
                    background-color: white;
                    vertical-align: top;
                    padding: 0;
                }
                TABLE TR:nth-child(odd) {
                    background-color: /*{{oColors.gray}}*/;
                }
                TABLE UL {
                    list-style: none;
                    padding: 0;
                    margin: -1% 0 0 0;
                    right: 10%;
                    position: absolute;
                }
                TABLE UL LI {
                    float: right;
                    margin: 0 2px 0 2px;
                }
                TABLE UL LABEL {
                    padding: 5px 15px 5px 15px;
                    background-color: /*{{oColors.gray}}*/;
                }
                TABLE IFRAME,
                TABLE TEXTAREA,
                TABLE DIV {
                    width: 100%;
                    display: none;
                    height: 260px;
                    margin: 19px 0 0 0;
                    padding: 0;
                    border: none;
                    background-color: transparent;
                }
                TABLE DIV {
                    line-height: 260px;
                }
                TABLE TEXTAREA {
                    overflow: auto;
                }
                .show {
                    display: block;
                }
                TABLE UL .active {
                    font-weight: bold;
                    background-color: /*{{oCSS.mainColor}}*/;
                }
            </style>

            <h2>Examples</h2>
            Configure your own example of ngCss:
            <table>
                <tr>
                    <th><label for="type">HTML Tag</label></th>
                    <td>
                        <select id="type" ng-model="ex.tag">
                            <option value="style">STYLE Tag</option>
                            <option value="link">LINK Tag</option>
                        </select>
                    </td>
                    <td class="expand" rowspan="99">
                        <ul id="tabs">
                            <li ng-click="showTab($event)">
                                <label for="exampleFrame">Live Example</label>
                            </li>
                            <li ng-click="showTab($event)">
                                <label for="exampleCode">Source Code</label>
                            </li>
                        </ul>
                        <textarea id="exampleCode" wrap="off"></textarea>
                        <iframe id="exampleFrame"></iframe>
                        <div class="show">
                            &#10094; Choose Your Options
                        </div>
                    </td>
                </tr>
                <tr>
                    <th><label for="script">Script (Javascript Scoping)</label></th>
                    <td>
                        <select id="script" ng-model="ex.script">
                            <option value="false">False (Default)</option>
                            <option value="'isolated'">Isolated</option>
                            <!-- option value="'sandbox'">Sandbox</option -->
                            <option value="'global'">Global</option>
                            <option value="'local'">Local</option>
                            <option value="'useStrict'">Use Strict</option>
                            <option value="'#sharedJavascriptScope'">#ID</option>
                            <option value="{ context: true }">[object]</option>
                            <option value="{{ex.scriptFn}}">[function]</option>
                            <option value="{{ex.scriptProp}}">[$scope.property]</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <th><label for="scope">Scope (Angular Scoping)</label></th>
                    <td>
                        <select id="scope" ng-model="ex.scope">
                            <option value="''">Parent Scope (Default)</option>
                            <option value="'isolated'">Isolate Scope</option>
                            <option value="'#red'">#ID</option>
                            <option value="{{ex.scopeFn}}">[function]</option>
                            <option value="{{ex.scopeProp}}">[$scope.property]</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <th><label for="live">Live</label></th>
                    <td>
                        <input id="live" type="checkbox" ng-model="ex.live" />
                    </td>
                </tr>
                <tr>
                    <th><label for="async">Async</label></th>
                    <td>
                        <input id="async" type="checkbox" ng-model="ex.async" />
                    </td>
                </tr>
                <tr>
                    <th><label for="async">Callback</label></th>
                    <td>
                        Reports <pre>$scope.$id</pre>'s
                    </td>
                </tr>                <tr>
                    <td colspan="2">
                        <button ng-click="buildExample()">Load Example</button>
                    </td>
                </tr>
            </table>
            
            <h3>Complex Example</h3>
            This page is setup as a complex example; be sure to view source and explore the code for more examples and ideas.
            The two live-bound STYLE elements share one <pre>$scope</pre> and are setup to allow for in-line SCRIPTs (so all of the data is setup within the STYLE element itself, not in the <pre>ng-controller</pre>) and it imports the <pre>$scope</pre> from the <pre>ng-controller</pre>.
            Have a play with the various CSS values and see the changes live in this page:
            <table id="liveExample">
                <thead>
                    <tr>
                        <th>Selector</th>
                        <th>Property</th>
                        <th>Value</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>DIV.gotchas</td>
                        <td>background-color</td>
                        <td><input ng-model="oCSS.gotchas.backgroundColor" /></td>
                    </tr>
                    <tr>
                        <td>BODY</td>
                        <td>color</td>
                        <td><input ng-model="oCSS.color" /></td>
                    </tr>
                    <tr>
                        <td>BODY</td>
                        <td>font-family</td>
                        <td><input ng-model="oCSS.fontFamily" /></td>
                    </tr>
                    <tr>
                        <td>[Pretty Font]</td>
                        <td>font-family</td>
                        <td><input ng-model="oCSS.fonts.pretty" /></td>
                    </tr>
                    <tr>
                        <td>[Main Color]</td>
                        <td>background-color</td>
                        <td><input ng-model="oCSS.mainColor" /></td>
                    </tr>
                </tbody>
            </table>
        </div>
        

        <div class="gotchas">
            <h2>Gotchas</h2>

            <ul>
                <li>
                    It is recommended to comment the <pre class="var">Variable</pre>s (e.g. <pre>/*<i class="var">Variable</i>*/</pre>) as the braces used by Angular are also used within CSS and these additional non-CSS-valid braces can cause issues with CSS editors.
                    <strong>But...</strong> this will require you to modify your ngCss-enabled *.css files before CSS minimization as the commented <pre class="var">Variable</pre>s will likely be removed during minimization.
                </li>
                <li>
                    Any instances of <pre>&#123;&#123;</pre> followed by <pre>&#125;&#125;</pre> within your CSS will be eaten by <pre>$interpolate</pre> or will otherwise cause errors. Make sure you have whitespace between all braces that are not <em class="var">Variable</em>s.
                </li>

                <li>
                    As <pre>LINK</pre> tag CSS files are read via AJAX, the limitations of <a href="https://www.google.com/search?q=xmlhttprequest+cross+domain"><pre>XMLHttpRequest</pre></a> can restrict where you serve your CSS files from.
                    If your CSS files exist on the same server, this is a non-issue.
                </li>
                <li>
                    Each <pre>LINK</pre> tag is replaced by a new <pre>STYLE</pre> tag that contains the modified CSS file contents.
                    This process can break some relative URLs within your CSS files (e.g. <pre>background-image: url("../img/a.png");</pre>).
                    It is therefore recommended that you use absolute URLs within your CSS files (e.g. <pre>background-image: url("/img/a.png");</pre>) in order to avoid any such errors.
                </li>
                <li>
                    Embedded <pre>SCRIPT</pre>s are all evaluated in series at initialization prior to CSS modification, so the following will not work as expected:
                    <blockquote>
                        <pre>
                        <em class="comment">/*<em class="script">&lt;script&gt;
                            $scope.color = 'blue';
                        &lt;/script&gt;</em>*/</em>
                        DIV {
                            color: <em class="comment">/*<em class="script var">color</em>*/</em>; <em class="comment">//# expecting 'blue' but gets 'green'</em>
                        }
                        
                        <em class="comment">/*<em class="script">&lt;script&gt;
                            $scope.color = 'green';
                        &lt;/script&gt;</em>*/</em>
                        SPAN {
                            color: <em class="comment">/*<em class="script var">color</em>*/</em>; <em class="comment">//# expecting 'green'</em>
                        }
                        </pre>
                    </blockquote>
                    At initialization <pre>$scope.color</pre> will be set to "blue" then "green" prior to any CSS modification, so the <pre>color</pre> of both DIV and SPAN will be set to "green".
                </li>
                <li>
                    <a name="browsersupport"></a>
                    IE8+ is supported by ngCss out-of-the-box.<!--, with support back to IE6 once <pre>document.querySelectorAll</pre> and <pre>JSON.parse</pre> functionality has been polyfilled via <pre>cjsss.polyfill.js</pre> or with <a href="http://www.jquery.com/">jQuery</a> (which is auto-magicially imported) included prior to CjsSS.js. -->
                    <br/>The required "advanced" JavaScript functionality is:
                    <ul>
                        <li>
                            <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest">XMLHttpRequest</a> <!-- or IE6-7's <a href="http://toddmotto.com/writing-a-standalone-ajax-xhr-javascript-micro-library/">ActiveXObject</a> -->
                        </li>
                        <li>
                            <a href="http://quirksmode.org/dom/core/#t12">getElementsByTagName</a> and
                            <a href="http://quirksmode.org/dom/core/#t00">createElement</a>
                        </li>
                    </ul>
                </li>
            </ul>

            <h3>Side Effects</h3>
            <ul>
                <li>
                    Each <pre>LINK</pre> tag is replaced by a new <pre>STYLE</pre> tag that contains the modified CSS file contents.
                    This is done so that the original unprocessed CSS referenced by the <pre>LINK</pre> tag does not apply to the webpage.
                </li>
                <li>
                    Any ngCss attributed tags without a defined <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element.id">HTML Element.id</a> has a unique ID (formatted as <i>ngCss###</i>) added so ngCss can track it internally.
                </li>
                <li>
                    <strong>If you have elected to have a <pre>script</pre> value other than <pre>sandbox</pre></strong>, ngCss-embedded Javascript has the ability to modify the global scope.
                </li>
                <li>
                    And of course... the CSS within ngCss attributed tags is modified based on the embedded <i class="var">Variable</i>s and related <a href="https://docs.angularjs.org/guide/scope">Angular <pre>$scope</pre></a>.
                </li>
            </ul>
        </div>


        <div class="snake">
            <div style="right: 1%; width: 10%; position: absolute;">
                <a href="http://www.redbubble.com/people/leea1968/works/10796262-the-three-headed-knight?p=sticker">
                    <img src="img/notsirrobin-sm.png" style="width: 100%;" />
                </a>
            </div>

            
            <h3>What is up with the 3-headed knight?</h3>
            <p>
                ngCss (Angular Cascading Style Sheet) is the union of three web technologies joined seemlessly (unnaturally?) into one solution.
                Like <a href="http://opensourcetaekwondo.com/cjsss/">CjsSS.js</a>, the union of multiple technologies has been <i>logo-ized</i> as a multi-headed beastie and since Angular's logo is a shield we look to...
            </p>
            <p>
                <a href="https://www.youtube.com/results?search_query=tale+of+Sir+Robin">The Tale Of Sir Robin</a> (which is not to be confused with <a href="https://www.youtube.com/watch?v=zIV4poUZAQo">The Knights Who Say... <i>NI!</i></a>).
            </p>
        </div>


        <a name="about"></a>
        <div class="about">
            <img src="img/campbeln.png" style="left: 1%; width: 8%; position: absolute;" />
            <form target="_top" method="post" action="https://www.paypal.com/cgi-bin/webscr">
                <input type="hidden" value="_s-xclick" name="cmd">
                <input type="hidden" value="7HPTRFK8W53M4" name="hosted_button_id">
                <button class="donate" name="submit">Developer Tip Jar</button>
            </form>

            <p>
                ngCss is an Angular Directive+Filter+Factory made by Nick Campbell, &copy; 2014-2015.
            </p>
            <p>
                ngCss is released under the <a href="http://opensource.org/licenses/MIT">MIT License</a>. See the license.txt file in the <a href="https://github.com/campbeln/ngcss">source code</a> for copy permission.
            </p>
            <p>
                Nick is a web nerd who likes to tinker in his spare time; ngCss is a product of that tinkering.
                Development is not supported by advertising nor the marketing of your email addresses.
                If you find this code useful, please consider tossing a few dollars into my tip jar.
                If you are a company that finds this code useful, please feel free to toss more than a few dollars into my tip jar ;)
            </p>
        </div>


        <script>
            (function init() {
                var w = window,
                    d = document,
                    e = d.documentElement,
                    g = d.body || d.getElementsByTagName('body')[0],
                    //x = w.innerWidth || e.clientWidth || g.clientWidth,
                    y = w.innerHeight || e.clientHeight || g.clientHeight,
                    h = (y * 0.55) + "px",
                    $nsr = d.getElementById("nsr")
                ;

                //# 
                function processPre(a__tags) {
                    var i, a_sMatch, sHTML;
                    
                    //# 
                    for (i = 0; i < a__tags.length; i++) {
                        sHTML = a__tags[i].innerHTML;
                        a_sMatch = sHTML.match(/^(\s+)/);
                        a__tags[i].innerHTML = sHTML.replace(new RegExp((a_sMatch ? a_sMatch[1].replace("\n", "") : ""), "g"), "")
                    }
                }

                //# Set the .height of not Sir Robin
                $nsr.setAttribute("style", "height:" + h);
                $nsr.style.height = h;

                //# Spin through the profiles auto-majicially to demo the functionality
                var iTimeoutID,
                    iCount = 0,
                    iCurrent = -1,
                    $lis = document.getElementById("demo").children,
                    fnAutoClick = function() {
                        iCount++;
                        iCurrent++;

                        //# Ensure iCurrent is within the confines of the $lis
                        if (iCurrent >= $lis.length) {
                            iCurrent = 0;
                        }

                        //# .click the iCurrent $lis
                        $lis[iCurrent].click();

                        //# Only run the demo a hand-full of times back to the original profile
                        if (iCount < 8) {
                            iTimeoutID = setTimeout(fnAutoClick, 1500);
                        }
                    }
                ;
                
                //# 
                processPre(document.getElementsByTagName("blockquote"));

                //# Kickoff the demo
                fnAutoClick();
            })();
        </script>
        
        <script type="text/ngCss-template" id="simpleExample.html">
            <!--
            <html ng-app="myAngularApp" ng-controller="pageController" ng-cloak>
                <head>
                    <title>ngCss User Generated Example</title>
                    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
                    
                    <style>
                        div {
                            display: inline;
                            padding: 5px;
                            white-space: nowrap;
                            margin: 5px;
                        }
                        pre {
                            display: inline;
                        }
            
                        #pageId {
                            background-color: #eee;
                        }
                        #red {
                            color: black;
                            background-color: red;
                        }
                        #green {
                            color: black;
                            background-color: green;
                        }
                        #blue {
                            color: white;
                            background-color: blue;
                        }
                    </style>
            
                    <style type="text/css" id="sharedJavascriptScope" ng-css="{ script: 'isolated' }">
                        /*<script>
                            var oShare = { shared: true };
                            $scope.color = "lime";
                        </ script>*/
                    </style>
            
                    <style id="myAngularCss" type="text/css" ng-css="{ script: {_{ex.script}_}, scope: {_{ex.scope}_}, live: {_{ex.live}_}, async: {_{ex.async}_}, callback: {_{ex.callback}_} }">
                        /*ng-css({ script: true })*/
                        /*<script>
                            $scope.metrics = [];
                            $scope.metrics.push("Javascript code running in CSS *" + (window.myAngularApp ? "with" : "without") + "* access to the page's `window` object");
                            if (window.oShare) { $scope.metrics.push("I am sharing a Javascript scope with #sharedJavascriptScope."); }
                            if (this && this.context) { $scope.metrics.push("I have a Javascript eval context (e.g. `this`)."); }
            
                            $scope.color = $scope.color || "purple";
                        </ script>*/
                        
                        body {
                            color: /*{{color || 'gray'}}*/;
                        }
                        /*{{myMixin | css:true:true}}*/
                    </style><link id="myAngularCss" href="example.css" rel="stylesheet" ng-css="{ script: {_{ex.script}_}, scope: {_{ex.scope}_}, live: {_{ex.live}_}, async: {_{ex.async}_}, callback: {_{ex.callback}_} }" />
                                    
                    <script type="text/javascript" src="js/angular.min.js"></ script>
                    <script type="text/javascript" src="js/angular.ngcss.js"></ script>
                    <script type="text/javascript">
                        //# Setup the required globals
                        var myAngularApp = angular.module("myAngularApp", ["ngCss"]),
                            oMixin = {
                                _selector: "button",
                                backgroundColor: "yellow"
                            }
                        ;
                            
                        //# Define the simple Angular .controller's
                        myAngularApp.controller("redController", ["$scope", function ($scope) {
                            $scope.color = "red";
                            $scope.myMixin = oMixin;
                        }]);
                        myAngularApp.controller("greenController", ["$scope", function ($scope) {
                            $scope.color = "green";
                            $scope.myMixin = oMixin;
                        }]);
                        myAngularApp.controller("blueController", ["$scope", function ($scope) {
                            $scope.color = "blue";
                            $scope.myMixin = oMixin;
                        }]);
            
                        //# Define the page's angular .controller
                        myAngularApp.controller("pageController", ["$scope", "ngCss", function ($scope, ngCss) {
                            $scope.color = "orange";
                            $scope.myMixin = oMixin;
            
                            //# 
                            $scope.jsScope = "isolated";
                            $scope.jsScopeFn = function (/*$element, oMetaData*/) {
                                return "global";
                            };
                            $scope.ngScope = "#blue";
                            $scope.ngScopeFn = function (/*$element, oMetaData*/) {
                                return "#green";
                            };
            
                            //# Import ngCss into our $scope (for use in the button's ng-click)
                            $scope.ngCss = ngCss;
            
                            //# On the first parse of the CSS, set our reference to $cssScope and return false to unhook our .callback
                            $scope.cssUpdated = function () {
                                $scope.$cssScope = ngCss.scope.get('#myAngularCss');
                                return false;
                            };
                        }]);
                    </ script>
                </head>
                <body>
                    <h1>ngCss User Generated Example</h1>
                    Use the input <span ng-hide="{_{ex.live}_}">and button</span> below to update the CSS value for the text color (e.g. "green", "blue", "#cccccc", etc.).
                    <br/>
                    <input ng-model="$cssScope.color"/>
                    <button ng-hide="{_{ex.live}_}" ng-click="ngCss.updateCss()">Update Body Color</button>
            
            
                    <h2>Metrics</h2>
                    Options: <pre>{ script: {_{ex.script}_}, scope: {_{ex.scope}_}, live: {_{ex.live}_}, async: {_{ex.async}_}, callback: {_{ex.callback}_} }</pre>
                    <ul id="metrics">
                        <li>#myAngularCss's $scope.$id: {{$cssScope.$id}}</li>
                        <li ng-repeat="entry in $cssScope.metrics">{{entry}}</li>            
                    </ul>
            
            
                    <h2>Reference</h2>
                    <div id="pageId">pageController's $scope.$id: {{$id}}</div>
                    <div id="red" ng-controller="redController">redController's $scope.$id: {{$id}}</div>
                    <div id="green" ng-controller="greenController">greenController's $scope.$id: {{$id}}</div>
                    <div id="blue" ng-controller="blueController">blueController's $scope.$id: {{$id}}</div>        
                </body>
            </html>
            -->
        </script>
    </body>
</html>
