/*
ngCss v0.5 (kk)
(c) 2014 Nick Campbell http://opensourcetaekwondo.com/ngcss
License: MIT
Thanks jscompress.com!
*/
(function(e,t){"use strict";function s(e){return e&&e===Object(e)}function o(e){return typeof e==="string"||e instanceof String}function u(e){return Object.prototype.toString.call(e)=="[object Function]"}function a(e,t,n){var r=XMLHttpRequest||ActiveXObject,i;try{i=new r("MSXML2.XMLHTTP.3.0")}catch(s){}if(u(n)){n={fn:n,arg:null}}if(i){i.onreadystatechange=function(){if(i.readyState===4){n.fn(i.status===200||i.status===0&&e.substr(0,7)==="file://",i.responseText,n.arg,i)}};i.open("GET",e,t);i.send()}else{n.fn(false,null,n.arg,null)}}function f(e,t,n){function r(){return"try{return(function(g,Object){return((1,eval)('Object')===g?function(c){return(1,eval)(c);}:(window.execScript?function(c){return window.execScript(c);}:null));})(Object,{});}catch(e){return null}"}function i(){var e,t=n.body||n.head||n.getElementsByTagName("head")[0],i=n.createElement("iframe");i.style.display="none";t.appendChild(i);e=i.contentWindow;e.document.write("<script>"+"window.$sandbox={"+"global: function(){"+r()+"}(),"+"local: function(s){return eval(s);}"+"};"+"parent=null;"+"</script>");e.document.close();return e}var s,o=i(),u=o.$sandbox.global||o.$sandbox.local;o.$scope=e;o.scope=e;delete o.$sandbox;for(s=0;s<t.length;s++){u(t[s])}return u}var n=e.module("ngCss",[]),r={},i={attrs:"",commented:true,async:true,prelink:false,script:false,live:false};n.filter("css",function(){function e(t,n){var r,i,o="";for(r in t){if(r!=="_selector"){i=t[r];r=r.replace(/([A-Z])/g,"-$1").toLowerCase();r=r.indexOf("-")===0?r.substr(1):r;if(s(i)){o+=e(i,n)}else{o+=r+":"+i+";"+n}}}return o}return function(t,n,r){var i=r?"\n":"";if(s(t)){return(n?(o(n)?n:t._selector)+" {":"")+i+e(t,i)+i+(n?"}":"")}else{return""}}});n.factory("ngCss",["$rootScope","$timeout",function(t,n){var s={};s.getScope=function(t,i){if(o(t)){t=document.getElementById(t)}n(function(){var n,s,o=e.element(t);if(o){if(r[o[0].id]){n=r[o[0].id].scope}if(!n){n=o.isolateScope();s=n?true:false;if(!s){n=o.scope()}}}i(n,s)})};s.defaults=function(t){i=e.extend(i,t);return e.extend({},i)};s.hookUpdateCss=function(e){t.$on("updateCss",function(){e()})};s.updateCss=function(){t.$broadcast("updateCss")};s.newId=function(e){var t=Math.floor(Math.random()*1e3);e=e||"ngCss";while(document.getElementById(e+t)){t=Math.floor(Math.random()*1e3)}return e+t};return s}]);n.directive("ngCss",["$interpolate","$timeout","ngCss",function(n,l,c){var h=n.startSymbol(),p=n.endSymbol(),d=new RegExp("/\\*"+h,"g"),v=new RegExp(p+"\\*/","g");return{restrict:"A",scope:{options:"=ngCss"},template:function(e,t){var n,i=!e.attr("ng-css"),s=e[0],o=e.prop("tagName").toLowerCase();s.id=s.id||c.newId();switch(o){case"style":{r[s.id]={css:e.html()||""};e.html("");break};case"link":{r[s.id]={};break};default:{o=t.style||"";if(o.indexOf(h)>-1){n=t.ngCss||"{}";if(n.indexOf("{")!==0){n="{ prelink: '"+n+"' }"}r[s.id]={style:t.style.replace(d,h).replace(v,p),option:t.ngCss,options:n};e.removeAttr("style")}e.removeAttr((i?"data-":"")+"ng-css")}}(r[s.id]||{}).dataPrefix=i},link:function(m,g,y){function N(){var t=function(e){if(e){m=e;r[w.id].scope=m;l(k)}else{k()}};if(T.prelink){if(u(T.prelink)){T.prelink(t,m,g,r[w.id].$link)}else{c.getScope(T.prelink,function(n){if(!n&&s(T.prelink)){e.extend(m,T.prelink);k()}else{t(n)}})}}else{k()}}function C(){var e=r[w.id];if(e.css){g.html(m.$eval(n(e.css)))}else{g.attr("style",m.$eval(n(e.style)))}}function k(){var e,n,i,s=r[w.id].css||"",o=(T.script+"").toLowerCase()==="local",u=function(e,t,n){i[n]=e?t:""};if(s){r[w.id].css=s.replace(S,"").replace(d,h).replace(v,p)}if(T.script&&(o||!r[w.id].evaler)){i=s.match(S);if(i&&i.length>0){for(e=0;e<i.length;e++){n=x.exec(i[e]||"");if(n&&n[1]){a(n[1],false,{fn:u,arg:e})}else{i[e]=i[e].replace(E,"")}}if(o){t(m,i)}else{r[w.id].evaler=f(m,i,document)}}}C();if(T.live){m.$watch(C)}else{c.hookUpdateCss(C)}}var b,w=g[0],E=/<[\/]?script.*?>/gi,S=/<script.*?>([\s\S]*?)<\/script>/gi,x=/<script.*?src=['"](.*?)['"].*?>/i,T=e.extend({},i,m.options);switch(g.prop("tagName").toLowerCase()){case"link":{a(w.href,T.async,function(t,n){var i;if(t){r[w.id].css=n;r[w.id].options=T;r[w.id].$link=g;i=e.element("<style type='text/css' id='"+(w.id||c.newId())+"'>"+n+"</style>");i.attr((r[w.id].dataPrefix?"data-":"")+"ng-css",g.attr("ngCss"));g.after(i);g=i;w.parentNode.removeChild(w);w=i[0];N()}else{throw"ngCss E1: Unable to load file: "+y.href+"\nServer Response: "+n}});break};case"style":{r[w.id].options=T;N();break};default:{if(r[w.id]){T=m.$eval(r[w.id].options);if(T.prelink){b=T.prelink.id||T.prelink;if(o(b)&&r[b]){T=e.extend({},r[b].options,T)}g.attr((r[w.id].dataPrefix?"data-":"")+"ng-css",r[w.id].option);N()}else{throw"ngCss E2: `prelink` is required for non-LINK/STYLE tags."}}}}}}}])})(angular,function($scope){var scope=$scope;while(arguments[1].length>0){eval(arguments[1].shift())}})
